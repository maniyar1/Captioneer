import{executionAsyncId,createHook}from"node:async_hooks";import{virtualSheet}from"twind/sheets";export*from"twind";export*from"twind/sheets";var asyncVirtualSheet=()=>{const e=virtualSheet(),t=e.reset(),r=new Map,s=createHook({init(e,t,s){const n=r.get(s);n&&r.set(e,n)},before(t){const s=r.get(t);s&&e.reset(s.state)},after(s){const n=r.get(s);n&&(n.state=e.reset(t))},destroy(e){r.delete(e)}}).enable();return{get target(){return e.target},insert:e.insert,init:e.init,reset:()=>{const t=executionAsyncId(),s=r.get(t);s?s.state=void 0:r.set(t,{state:void 0}),e.reset()},enable:()=>s.enable(),disable:()=>s.disable()}};export{asyncVirtualSheet};