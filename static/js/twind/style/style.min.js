import{apply,directive,hash}from"twind";var includes=(e,t)=>!!~e.indexOf(t),hyphenate=e=>e.replace(/[A-Z]/g,"-$&").toLowerCase(),evalThunk=(e,t)=>{for(;"function"==typeof e;)e=e(t);return e},isCSSProperty=(e,t)=>!includes("@:&",e[0])&&(includes("rg",(typeof t)[5])||Array.isArray(t)),merge=(e,t,r)=>t?Object.keys(t).reduce((e,s)=>{const a=evalThunk(t[s],r);return isCSSProperty(s,a)?e[hyphenate(s)]=a:e[s]="@"==s[0]&&includes("figa",s[1])?(e[s]||[]).concat(a):merge(e[s]||{},a,r),e},e):e,escape="undefined"!=typeof CSS&&CSS.escape||(e=>e.replace(/[!"'`*+.,;:\\/<=>?@#$%&^|~()[\]{}]/g,"\\$&").replace(/^\d/,"\\3$& "));export*from"twind/css";var styled$=(e,t)=>e.reduce((e,r)=>("string"==typeof r&&(r=apply(r)),"function"==typeof r?merge(e,evalThunk(r,t),t):r?merge(e,r,t):e),{}),buildMediaRule=(e,t)=>({["@"==e[0]?e:`@screen ${e}`]:"string"==typeof t?apply(t):t}),createStyle=(e={},t)=>{const{base:r,variants:s={},defaults:a,matches:c=[]}=e,n=hash(JSON.stringify([null==t?void 0:t.className,r,s,a,c])),i=(t?t.className+" ":"")+n,l=(t||"")+"."+n;return Object.defineProperties(e=>{const{tw:n,css:l,class:o,className:u,...p}={...a,...e},y=[t&&t(p),{_:i+(u?" "+u:"")+(o?" "+o:"")},r];return Object.keys(s).forEach(e=>{const t=s[e],r=p[e];r===Object(r)?Object.keys(r).forEach(e=>{const s=t[r[e]];y.push("initial"==e?s:buildMediaRule(e,s))}):y.push(t[r])}),c.forEach(e=>{const t=y.push(e.use)-1;Object.keys(e).every(r=>{const s=p[r],a=String(e[r]);return s===Object(s)?(Object.keys(s).forEach(e=>{"initial"!=e&&a==String(s[e])&&y.push(buildMediaRule(e,y[t]))}),!0):"use"==r||a==String(s)})||(y.length=t)}),y.push(apply(n),l),directive(styled$,y)},{toString:{value:()=>l},className:{value:i},selector:{value:l}})},style=(e,t)=>"function"==typeof e?createStyle(t,e):createStyle(e);export{style};